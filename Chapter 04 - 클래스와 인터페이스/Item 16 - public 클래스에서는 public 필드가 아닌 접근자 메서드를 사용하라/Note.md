# public 클래스에서는 public 필드가 아닌 접근자 메서드를 사용하라

> 작성자: 피터

## 목차
- [public 클래스에서는 public 필드가 아닌 접근자 메서드를 사용하라](#public-클래스에서는-public-필드가-아닌-접근자-메서드를-사용하라)
- [Appendix](#Appendix)

<br/>

public  class의 경우 filed public이 아닌, private filed 그리고 public 접근자(getter)를 추가해야 한다. 패키지 바깥에서 접근할 수 있는 클래스라면 접근자를 제공하여 외부와 내부를 완전히 분리해야한다. 필드를 직접 사용할 수 있는 클라이언트가 없고 접근자만 사용 가능하므로 필드에 대한 자유도가 상승해 유연성이 증가하게 된다. 

package-private 클래스 혹은 private 중첩 클래스의 경우는 데이터 필드를 노출하더라도 문제 없다.
클라이언트 코드가 내부 필드를 직접 사용하므로 이 클래스에 묶이게 되지만, 클라이언트도 이 클래스와 같은 패키지 안에서만 동작하기 때문이다. 
즉 패키지 외부는 전혀 손대지 않고 데이터 표현 방식을 바꿀수 있다. 
private 중첩 클래스의 경우 수정 범위가 더 좁아져 이 클래스를 포함하는 외부 클래스까지 제한된다. 

그 외에도 

- 동작의 캡슐화(나중에 추가 기능을 더 쉽게 추가할 수 있다.(예: 유효성 검사))
- 대체 표현을 사용하여 Property를 노출하는 동안 구현 변경 사항을 숨길 수 있다.
- public interface를 변경으로부터 보호 할 수 있다. (클라이언트에 영향을 주지 않고 구현이 변경되는 동안 공개 인터페이스를 일정하게 유지할 수 있다.)
- Property getter/setter에 대해 작동하도록 하도록 설계된 라이브러리와의 상호 운용성이 향상된다. (Mocking, Serialization 등)
- getter/setter를 customizing 할 수 있다. (람다식, 엑세스 수준 변경, 재정의 및 노출 방식 변경 등)

자바 플랫폼 라이브러리에도 public 클래스의 필드를 직접 노출하지 말라는 규칙을 어기는 사례가 종종 있다. 이 클래스들을 흉내 내지 말고, 타산지석으로 삼길 바란다.

1. java.awt.package.Point
2. java.awt.package.Dimension

public 클래스의 필드가 불변이라면 직접 노출할 때의 단점은 조금은 줄어들지만, 여전히 결코 좋은 생각은 아니다. API를 변경하지 않고는 표현 방식을 바꿀 수 없고, 필드를 읽을 때 부수 작업을 수행할 수 없단 단점은 여전하다. 단, 불변식은 보장할 수 있게 된다. 예컨대 다음 클래스는 각 인스턴스가 유효한 시간을 표현함을 보장한다.

### Appendix

- field
자신이 속한 클래스의 내부 변수. (속성 및 상태)
- property
클래스의 내부 변수(필드)에 대해 접근자(getter/setter)를 사용해 접근하는 것.
