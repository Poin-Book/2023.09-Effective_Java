# 메서드 시그니처를 신중히 설계하라

> 작성자: {캐슬}

## 목차

---

1. API 설계요령
    1. 메서드 이름을 신중히 짓자
    2. 편의 메서드를 너무 많이 만들지 말자
    3. 매개변수 목록은 짧게 유지하자
    4. 매개 변수의 타입으로는 클래스보다는 인터페이스가 더 낫다
    5. Boolean보다는 원소 2개짜리 열거 타입이 더 낫다.

# API 설계 요령

1. 메서드 이름을 신중히 짓자
2. 편의 메서드를 너무 많이 만들지 말자
3. 매개변수 목록은 짧게 유지하자
4. 매개 변수의 타입으로는 클래스보다는 인터페이스가 더 낫다
5. Boolean보다는 원소 2개짜리 열거 타입이 더 낫다.

## 1. 메서드 이름을 신중히 짓자

---

- 항상 표준 명명 규칙을 따라야 한다.
- 이해할 수 있고 같은 패키지에 속한 다른 이름들과 일관되게 짓는것이 최우선 목표!
- 그다음으로는 개발자 커뮤니티에서 널리 사용되는 이름 사용하기
- 긴 이름은 피하자

## 2. 편의 메서드를 너무 많이 만들지 말자

---

- 모든 메서드들은 각각 자신의 소임을 다해야한다.
- 메서드가 너무 많은 클래스는 사용, 문서화, 테스트, 유지보수가 어렵다.
- 확신이 서지 않으면 만들지 말자

## 3. 매개변수 목록은 짧게 유지하자.

---

- 4개 이하가 좋다.
- 같은 타입의 매개변수가 여러개 연달아 나오는 경우는 좋지 않다. (의도와 다르게 동작될 수 있다.)

### - 매개 변수 목록을 줄이는법

1. 여러 메서드로 쪼갠다.

   ex) `java.util.List`

    - 리스트에서 주어진 원소의 인덱스를 찾을 때 전체 인덱스가 아닌 지정된 범위의 부분 리스트에서 원소의 인덱스를 찾을 때 이 기능을 메서드로 구현하기 위해서는 ‘부분리스트 시작’, ‘부분리스트 끝’, ‘찾을 원소’ 세가지의 매개변수가 필요하다.
    - List는 부분리스트를 반환하는 `subList` 메서드와 주어진 원소의 인덱스를 알려주는 `indexOf` 메서드를 별개로 제공한다.
2. 매개변수 여러개를 묶어주는 도우미 클래스를 만들자.
    - 정적 맴버 클래스로 도우미 클래스를 만든다.
    - 잇따른 매개변수 몇개를 독립된 하나의 개념으로 볼 수 있을 때 추천하는 방법이다.

   ex) 카드 게임 클래스

    - 메서드 호출시 숫자(rank)와 무늬(suit)를 뜻하는 매개변수를 항상 같은 순서로 전달할 것 이다. 이 둘을 묶는 도우미 클래스를 만들어 하나의 매개변수로 주고 받으면 구현이 깔끔해진다.

    ```java
    public class card {
    	static int rank;
    	static Suit suit;
    	...
    ```

3. 매개변수를 하나로 추상화한 객체를 정의하고 클라이언트에서 이 객체의 세터(setter)를 호출해 필요한 값을 설정하게 한다.(각 세터 메서드는 매개변수 하나 혹은 서로 연관된 몇 개만 설정하게)

   ex) 주문 처리에 필요한 제품, 수량 매개변수

    ```java
    // 매개변수를 추상화한 객체
    public class OrderParams {
        private Product product;
        private int quantity;
    
        public void setProduct(Product product) {
            this.product = product;
        }
    
        public void setQuantity(int quantity) {
            this.quantity = quantity;
        }
    
      
    }
    
    // 주문을 처리하는 클래스
    public class OrderProcessor {
        public void processOrder(OrderParams orderParams) {
            // orderParams에서 product와 quantity 값을 가져와서 주문 처리 로직을 수행
            Product product = orderParams.getProduct();
            int quantity = orderParams.getQuantity();
    
            // 주문 처리 로직...
        }
    }
    ```


## 4. 매개변수의 타입으로는 클래스보다는 인터페이스가 더 낫다.

---

- 매개변수로 적합한 인터페이스가 있다면 해당 인터페이스를 직접 사용하자.

  ex) 메서드에 hashMap을 넘길일은 전혀 없다. Map을 사용하자.


## 5. boolean 보다는 원소 2개짜리 열거 타입이 낫다.

---

- 열거타입을 사용하면 코드를 읽고 쓰기가 더 쉬워진다.
- 나중에 선택지를 추가하기 쉽다.

ex) 화씨 섭씨 온도를 원소로 정의한 열거 타입

```java
public enum TemperatureScale{
	*FAHTENHEIT, CELSIUS*
}
```

- 나중에 켈빈 온도도 지원해야 한다면 열거타입에 추가해주면 된다.
- 온도 단위에 대한 의존성을 개별 열거 타입의 상수의 메서드 안으로 리팩터링해 넣을 수도 있다.