# Item 72 - 표준 예외를 사용하라

> 작성자: 루카

## 목차

- [Item 72 - 표준 예외를 사용하라](#item-72---표준-예외를-사용하라)
  - [목차](#목차)
  - [표준 예외를 사용해야하는 이유](#표준-예외를-사용해야하는-이유)
  - [널리 사용되는 표준 예외](#널리-사용되는-표준-예외)

## 표준 예외를 사용해야하는 이유

- 표준 예외를 사용하면 다음과 같은 장점이 있다.
  - API가 다른 사람이 익히기 쉬워진다.
  - 라이브러리를 사용하는 프로그래머가 익히기 쉽다.
  - 예외 클래스 수가 적어진다.
  - 메모리 사용량이 줄어든다.
  - 클래스를 적게 쓰면 클래스를 적게 로딩하므로 클래스 초기화 시간이 적게 걸린다.
  - 예외가 발생했을 때 스택 추적 정보를 얻기 쉽다.

<br/>

- `Exception`, `RuntimeException`, `Throwable`, `Error`는 직접 재사용하지 말자.
  - 이 클래스들은 추상 클래스라고 생각해야 한다.
  - 이 예외들은 다른 예외들의 상위 클래스로, 여러 성격의 예외들을 포괄하는 클래스이므로 안정적으로 테스트할 수 없다.

## 널리 사용되는 표준 예외

| 예외 | 주요 쓰임 |
| :--- | :--- |
| `IllegalArgumentException` | 허용하지 않는 값이 인수로 건네졌을 때 |
| `IllegalStateException` | 객체가 메서드를 수행하기에 적절하지 않은 상태일 때 |
| `NullPointerException` | null을 허용하지 않는 메서드에 null을 건넸을 때 |
| `IndexOutOfBoundsException` | 인덱스의 범위를 넘어섰을 때 |
| `ConcurrentModificationException` | 허용하지 않는 동시 수정이 발견되었을 때 |
| `UnsupportedOperationException` | 호출한 메서드를 지원하지 않을 때 |

- 상황에 부합한다면 항상 표준 예외를 재사용하자.
  - 예외의 이름뿐 아니라 예외가 던져지는 맥락도 부합할 때만 재사용하자.
  - 더 많은 정보를 제공하길 원한다면 표준 예외를 확장해도 좋다.
  - 단, 예외는 직렬화할 수 없다는 사실을 기억하라.
    - 직렬화에는 많은 부담이 따르기 때문에 나만의 예외를 새로 만들지 않아야 할 근거가 된다.

<br/>

- 위 표의 `주요 쓰임`이 상호 배타적이지 않기 때문에 어떤 예외를 던져야 할지 헷갈릴 때가 있다.
  - 예를 들어서, 카드 덱을 표현하는 객체에서 카드를 뽑아 나눠주는 메서드에 덱에 남아 있는 카드보다 많은 값을 건넸다면 어떤 예외를 던져야 할까?
  - 이런 상황에서의 일반적인 규칙은 이렇다.
    - 인수 값이 무엇이었든 어차피 실패했을 거라면 `IllegalStateException`을,
    - 그렇지 않으면 `IllegalArgumentException`을 던지자.
